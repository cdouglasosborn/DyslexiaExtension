{"version":3,"sources":["scripts/contentscript.js"],"names":["autocharlie","constants","CLASS_NAME_PREFIX","ClassName","MODAL_HEADER","MODAL_FOOTER","MODAL_CONTENT","MODAL_CONTAINER","FAB","CARD","LIGHT_BOX","DARK_BOX","BUTTON","LEFT_ICON_CONTAINER","RIGHT_ICON_CONTAINER","INNER_HEADER","RIGHT_ICON","LEFT_ICON","TABS_CONTAINER","TAB","TAB_INDICATOR","TABS_DIVS_CONTAINER","TABS_DIV","TABS_DIVS_INNER","PADDING","Copy","SUBMIT_FEEDBACK","SEND","FEEDBACK","EMAIL_ADDRESS","ID_NAME_PREFIX","Id","HEADER_CONTAINER","FOOTER_CONTAINER","CONTENT_CONTAINER","FEEBACK_INPUT","FEEBACK_EMAIL","IMAGE_FOLDER","Images","HEADER_LOGO","HEADER_HAMBURGER","HEADER_CLOSE","HEADER_FEEDBACK","Message","SEND_FEEDBACK","Names","APP","services","PasteInterceptor","elem","callback","propagate","this","prototype","addEventListener","e","preventDefault","text","originalEvent","clipboardData","getData","bind","ui","Container","body","containerDiv","document","createElement","header","Header","content","Content","footer","Footer","className","appendChild","init","setHeader","show","style","display","hide","get","getHeader","getContent","getFooter","parent","clear","innerHTML","remove","parentNode","removeChild","Fab","modalFooter","id","innerHeader","clearIcons","newLogo","src","chrome","extension","getURL","leftIcons","rightIcons","addMenuBtn","addLeftIcon","HAMBURGER","iconUrl","optCallback","optClass","newIcon","additionalClass","addCloseButton","addFeedbackButton","addRightIcon","lightbox","LightBox","feedbackInput","console","log","details","Input","FEEDBACK_INPUT","email","FEEDBACK_EMAIL","submitButton","gottenEmail","getElementById","value","gottenFeedback","createdFeedback","feedback","runtime","sendMessage","method","response","multisig","HEADER_LEFT_ICONS","HEADER_RIGHT_ICONS","placeholder","container","CONTAINER","LABEL","INPUT","FOCUSED","label","input","getInput","closeCallback","darkBoxHide","lightBox","darkBox","headerText","Tabs","insertionDiv","tabDetails","tabsContainer","i","length","createTabButton","indicator","width","left","tabsDivContainer","tabsInnerDivContainer","j","actualTab","actualTabDiv","div","tab","tabDiv","button","name","y","x","transform","GET_SIGNATURES","CREATE_SIGNATURE","EDIT_SIGNATURE","DELETE_SIGNATURE","GET_RULES","CREATE_RULE","EDIT_RULE","DELETE_RULE","controllers","HomeCtrl","currentMessage","signatureList","NO_SIGNATURES","COPY_PASTE_SIGNATURE","ADD_SIGNATURE","SIGNATURE_NAME","USE","EDIT","DELETE","CREATE","TOOLBAR_HTML","rulesDiv","Constants","RULES_PREVIEW","tabsInfo","SIGNATURES","active","RULES","getCurrentSignatures","fab","createSignatureUI","signaturesDiv","createSignatureBox","signature","signatureBox","signatureHeader","signatureContainer","html","SIG_HTML","useButton","useSignature","editButton","editSignature","deleteButton","deleteSignature","target","messageArea","platformDetails","querySelector","newSignatureContainer","signatureClass","status","addSigBox","padding","nameInput","toolBar","Ids","TOOLBAR","htmlInput","TEXTAREA","note","createButton","createdSignature","wysihtml5","Editor","toolbar","stylesheets","parserRules","wysihtml5ParserRules","createRuleUI","editRule","deleteRule","EXAMPLE","ID_PREFIX","IMAGE_DIRECTORY","showing","Modes","GMAIL","URL_CHECKS","platform","regex","InsertionType","BEFORE","AFTER","UniqueButtonAttributes","ATTRIBUTE","VALUE","PLATFORM_DETAILS","outerContainer","attribute","parents","messageBodySelector","messageBodyElementNumber","similarButtonSelector","useParentLevel","elementType","insertionType","includeClasses","containerClass","containerInnerHtml","toInputs","type","ccInputs","bccInputs","ATTEMPTS","WAIT_TIME","shouldLoad","decideMode","scrappedBody","getElementsByTagName","addComposeListener","ctrl","toggle","stopPropagation","checkLoad","subtreeModifed","checkComposeAdded","checkEmailChanges","getAttribute","getParents","getMessageBody","potentianalTarget","emailCheck","foundEmail","number","currentElem","addInputListener","tries","triesToGo","messageBody","querySelectorAll","addToButtons","window","setTimeout","insertButton","getElementsByClassName","showButton","insertBefore","nextSibling","multisigContent"],"mappings":"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","file":"scripts/contentscript.js","sourcesContent":["'use strict';\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\nautocharlie.constants.CLASS_NAME_PREFIX = 'autocharlie-material-content-';\n\nautocharlie.constants.ClassName = {\n  MODAL_HEADER: autocharlie.constants.CLASS_NAME_PREFIX + 'header',\n  MODAL_FOOTER: autocharlie.constants.CLASS_NAME_PREFIX + 'footer',\n  MODAL_CONTENT: autocharlie.constants.CLASS_NAME_PREFIX + 'content',\n  MODAL_CONTAINER: autocharlie.constants.CLASS_NAME_PREFIX + 'container',\n  FAB: autocharlie.constants.CLASS_NAME_PREFIX + 'fab',\n  CARD: autocharlie.constants.CLASS_NAME_PREFIX + 'card',\n  LIGHT_BOX: autocharlie.constants.CLASS_NAME_PREFIX + 'lightbox',\n  DARK_BOX: autocharlie.constants.CLASS_NAME_PREFIX + 'darkbox',\n  BUTTON: autocharlie.constants.CLASS_NAME_PREFIX + 'button',\n  LEFT_ICON_CONTAINER: autocharlie.constants.CLASS_NAME_PREFIX + 'left-icon-container',\n  RIGHT_ICON_CONTAINER: autocharlie.constants.CLASS_NAME_PREFIX + 'right-icon-container',\n  INNER_HEADER: autocharlie.constants.CLASS_NAME_PREFIX + 'inner-header',\n  RIGHT_ICON: autocharlie.constants.CLASS_NAME_PREFIX + 'right-icon',\n  LEFT_ICON: autocharlie.constants.CLASS_NAME_PREFIX + 'left-icon',\n  TABS_CONTAINER: autocharlie.constants.CLASS_NAME_PREFIX + 'tabs',\n  TAB: autocharlie.constants.CLASS_NAME_PREFIX + 'tab',\n  TAB_INDICATOR: autocharlie.constants.CLASS_NAME_PREFIX + 'tab-indicator',\n  TABS_DIVS_CONTAINER: autocharlie.constants.CLASS_NAME_PREFIX + 'tabs-div-container',\n  TABS_DIV: autocharlie.constants.CLASS_NAME_PREFIX + 'tabs-div',\n  TABS_DIVS_INNER: autocharlie.constants.CLASS_NAME_PREFIX + 'tabs-div-inner',\n  PADDING: autocharlie.constants.CLASS_NAME_PREFIX + 'padding'\n};\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\nautocharlie.constants.Copy = {\n  SUBMIT_FEEDBACK: 'Submit Feedback',\n  SEND: 'Send',\n  FEEDBACK: 'Feedback',\n  EMAIL_ADDRESS: 'Email Address'\n};\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\n\nautocharlie.constants.ID_NAME_PREFIX = 'autocharlie-material-content-';\n\nautocharlie.constants.Id = {\n  HEADER_CONTAINER: autocharlie.constants.ID_NAME_PREFIX + 'header',\n  FOOTER_CONTAINER: autocharlie.constants.ID_NAME_PREFIX + 'footer',\n  CONTENT_CONTAINER: autocharlie.constants.ID_NAME_PREFIX + 'content',\n  FEEBACK_INPUT: autocharlie.constants.ID_NAME_PREFIX + 'feedback-input',\n  FEEBACK_EMAIL: autocharlie.constants.ID_NAME_PREFIX + 'feedback-email'\n};\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\n\nautocharlie.constants.IMAGE_FOLDER = 'images/';\n\nautocharlie.constants.Images = {\n  HEADER_LOGO: autocharlie.constants.IMAGE_FOLDER + 'Logo.png',\n  HEADER_HAMBURGER: autocharlie.constants.IMAGE_FOLDER + 'Header_Hamburger.png',\n  HEADER_CLOSE: autocharlie.constants.IMAGE_FOLDER + 'Header_Close.png',\n  HEADER_FEEDBACK: autocharlie.constants.IMAGE_FOLDER + 'Header_Feedback.png'\n};\n\n\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\nautocharlie.constants.Message = {\n  SEND_FEEDBACK: 'sendFeedback'\n};\n\n\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.constants = autocharlie.constants || {};\n\nautocharlie.constants.Names = {\n  APP: 'MultiSignature'\n};\n\n\n\n\nvar autocharlie = autocharlie || {};\nautocharlie.services = autocharlie.services || {};\n\n\nautocharlie.services.PasteInterceptor = function(elem, callback, propagate) {\n  this.elem = elem;\n  this.callback = callback;\n  this.propagate = propagate || false;\n};\n\n\nautocharlie.services.PasteInterceptor.prototype.addEventListener = function() {\n  this.elem.addEventListener('paste', function(e) {\n    if(!this.propagate) {\n      e.preventDefault();\n    }\n    var text = (e.originalEvent || e).clipboardData.getData('text/html') || '';\n    this.callback(text);\n  }.bind(this), false);\n};\n\n\n//Namespace\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\n/**\n * Container Class for injecting a Material Design Container onto the stage.\n * @param body\n */\nautocharlie.ui.Container = function(body) {\n  this.containerDiv = document.createElement('div');\n  this.header = new autocharlie.ui.Header(this);\n  this.content = new autocharlie.ui.Content(this);\n  this.footer = new autocharlie.ui.Footer(this);\n\n  this.containerDiv.className = autocharlie.constants.ClassName.MODAL_CONTAINER;\n  body.appendChild(this.containerDiv);\n\n  this.header.init();\n  this.content.init();\n  this.footer.init();\n\n  this.header.setHeader(autocharlie.constants.Names.APP);\n\n  return this;\n};\n\nautocharlie.ui.Container.prototype.show = function() {\n  this.containerDiv.style.display = 'block';\n};\n\nautocharlie.ui.Container.prototype.hide = function() {\n  this.containerDiv.style.display = 'none';\n};\n\nautocharlie.ui.Container.prototype.get = function() {\n  return this.containerDiv;\n};\n\nautocharlie.ui.Container.prototype.getHeader = function() {\n  return this.header;\n};\n\nautocharlie.ui.Container.prototype.getContent = function() {\n  return this.content;\n};\n\nautocharlie.ui.Container.prototype.getFooter = function() {\n  return this.footer;\n};\n\n\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Content = function(parent) {\n  this.parent = parent;\n};\n\nautocharlie.ui.Content.prototype.clear = function() {\n  this.content.innerHTML = '';\n  return this.content;\n};\n\nautocharlie.ui.Content.prototype.remove = function() {\n  this.content.parentNode.removeChild(this.content);\n};\n\nautocharlie.ui.Content.prototype.get = function() {\n  return this.content;\n};\n\nautocharlie.ui.Content.prototype.show = function() {\n  this.content.style.display = 'block';\n};\n\nautocharlie.ui.Content.prototype.hide = function() {\n  this.content.style.display = 'none';\n};\n\nautocharlie.ui.Content.prototype.init = function() {\n  this.content = document.createElement('div');\n  this.content.className = autocharlie.constants.ClassName.MODAL_CONTENT;\n  this.parent.get().appendChild(this.content);\n};\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Fab = function(parent) {\n  this.parent = parent;\n};\n\nautocharlie.ui.Fab.prototype.clear = function() {\n  this.content.innerHTML = '';\n  return this.content;\n};\n\nautocharlie.ui.Fab.prototype.remove = function() {\n  this.content.parentNode.removeChild(this.content);\n};\n\nautocharlie.ui.Fab.prototype.get = function() {\n  return this.content;\n};\n\nautocharlie.ui.Fab.prototype.show = function() {\n  this.content.style.display = 'block';\n};\n\nautocharlie.ui.Fab.prototype.hide = function() {\n  this.content.style.display = 'none';\n};\n\nautocharlie.ui.Fab.prototype.init = function(callback) {\n  this.content = document.createElement('div');\n  this.content.innerHTML = '+';\n  this.content.className = autocharlie.constants.ClassName.FAB;\n  this.parent.get().appendChild(this.content);\n  if(callback) {\n    this.content.addEventListener('click', callback, false);\n  }\n};\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Footer = function(parent) {\n  this.parent = parent;\n};\n\nautocharlie.ui.Footer.prototype.clear = function() {\n  this.modalFooter.innerHTML = '';\n  return this.modalFooter;\n};\n\nautocharlie.ui.Footer.prototype.remove = function() {\n  this.modalFooter.parentNode.removeChild(this.modalFooter);\n};\n\nautocharlie.ui.Footer.prototype.get = function() {\n  return this.modalFooter;\n};\n\nautocharlie.ui.Footer.prototype.show = function() {\n  this.modalFooter.style.display = 'block';\n};\n\nautocharlie.ui.Footer.prototype.hide = function() {\n  this.modalFooter.style.display = 'none';\n};\n\nautocharlie.ui.Footer.prototype.init = function() {\n  this.modalFooter = document.createElement('div');\n  this.modalFooter.className = autocharlie.constants.ClassName.MODAL_FOOTER;\n  this.modalFooter.id = autocharlie.constants.Id.FOOTER_CONTAINER;\n  this.parent.get().appendChild(this.modalFooter);\n};\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Header = function(parent) {\n  this.parent = parent;\n};\n\nautocharlie.ui.Header.prototype.clear = function() {\n  this.innerHeader.innerHTML = '';\n  this.clearIcons();\n  return this.header;\n};\n\nautocharlie.ui.Header.prototype.remove = function() {\n  this.header.parentNode.removeChild(this.header);\n};\n\nautocharlie.ui.Header.prototype.setHeader = function(content) {\n  if(content === autocharlie.constants.Names.APP) {\n    this.innerHeader.innerHTML = '';\n    var newLogo = document.createElement('img');\n    newLogo.src = chrome.extension.getURL(autocharlie.constants.Images.HEADER_LOGO);\n    this.innerHeader.appendChild(newLogo);\n  } else {\n    this.innerHeader.innerHTML = content;\n  }\n  return this.header;\n};\n\nautocharlie.ui.Header.prototype.clearIcons = function() {\n  this.leftIcons.innerHTML = '';\n  this.rightIcons.innerHTML = '';\n};\n\nautocharlie.ui.Header.prototype.addMenuBtn = function(callback) {\n  this.addLeftIcon(autocharlie.constants.Images.HAMBURGER, callback);\n};\n\nautocharlie.ui.Header.prototype.addLeftIcon = function(iconUrl, optCallback, optClass) {\n  var newIcon = document.createElement('img');\n  var additionalClass = '';\n  if(optClass) { additionalClass += ' ' + optClass; }\n  newIcon.className = autocharlie.constants.ClassName.LEFT_ICON + additionalClass;\n  newIcon.src = chrome.extension.getURL(iconUrl);\n  newIcon.addEventListener('click', optCallback);\n  this.leftIcons.appendChild(newIcon);\n  return newIcon;\n};\n\nautocharlie.ui.Header.prototype.addCloseButton = function(callback) {\n  return this.addLeftIcon(autocharlie.constants.Images.HEADER_CLOSE, callback);\n};\n\nautocharlie.ui.Header.prototype.addFeedbackButton = function() {\n  this.addRightIcon(\n    autocharlie.constants.Images.HEADER_FEEDBACK,\n    function() {\n      this.lightbox = new autocharlie.ui.LightBox(this.parent.get());\n      var feedbackInput = document.createElement('div');\n      console.log('ids');\n      console.log(autocharlie.constants.Id);\n      var details = new autocharlie.ui.Input(\n        autocharlie.constants.Copy.FEEDBACK, autocharlie.constants.Id.FEEDBACK_INPUT);\n      feedbackInput.appendChild(details.get());\n      var email = new autocharlie.ui.Input(\n        autocharlie.constants.Copy.EMAIL_ADDRESS, autocharlie.constants.Id.FEEDBACK_EMAIL);\n      feedbackInput.appendChild(email.get());\n      var submitButton = document.createElement('button');\n      submitButton.className = autocharlie.constants.ClassName.BUTTON;\n      submitButton.innerHTML = autocharlie.constants.Copy.SEND;\n      submitButton.addEventListener('click', function() {\n        var gottenEmail = document.getElementById(autocharlie.constants.Id.FEEDBACK_EMAIL).value;\n        console.log(gottenEmail);\n        var gottenFeedback = document.getElementById(autocharlie.constants.Id.FEEDBACK_INPUT).value\n        var createdFeedback = {\n          'email': gottenEmail,\n          'feedback': gottenFeedback\n        };\n        console.log(createdFeedback);\n        chrome.runtime.sendMessage({\n          method: autocharlie.constants.Message.SEND_FEEDBACK,\n          feedback: createdFeedback\n        }, function(response) {\n          this.lightbox.remove();\n        }.bind(this));\n      }.bind(this), false);\n      feedbackInput.appendChild(submitButton);\n      this.lightbox.init(\n        feedbackInput,\n        multisig.Content.Copy.SUBMIT_FEEDBACK);\n    }.bind(this)\n    );\n};\n\nautocharlie.ui.Header.prototype.addRightIcon = function(iconUrl, optCallback, optClass) {\n  var newIcon = document.createElement('img');\n  var additionalClass = '';\n  if(optClass) { additionalClass += ' ' + optClass; }\n  newIcon.className = autocharlie.constants.ClassName.RIGHT_ICON + additionalClass;\n  newIcon.src = chrome.extension.getURL(iconUrl);\n  newIcon.addEventListener('click', optCallback);\n  this.rightIcons.appendChild(newIcon);\n  return newIcon;\n};\n\nautocharlie.ui.Header.prototype.init = function() {\n  this.header = document.createElement('div');\n  this.header.className = autocharlie.constants.ClassName.MODAL_HEADER;\n  this.header.id = autocharlie.constants.Id.HEADER_CONTAINER;\n  this.parent.get().appendChild(this.header);\n\n  this.leftIcons = document.createElement('div');\n  this.leftIcons.className = autocharlie.constants.ClassName.LEFT_ICON_CONTAINER;\n  this.leftIcons.id = autocharlie.constants.Id.HEADER_LEFT_ICONS;\n  this.header.appendChild(this.leftIcons);\n\n  this.innerHeader = document.createElement('div');\n  this.innerHeader.className = autocharlie.constants.ClassName.INNER_HEADER;\n  this.innerHeader.id = autocharlie.constants.Id.INNER_HEADER;\n  this.header.appendChild(this.innerHeader);\n\n  this.rightIcons = document.createElement('div');\n  this.rightIcons.className = autocharlie.constants.ClassName.RIGHT_ICON_CONTAINER;\n  this.rightIcons.id = autocharlie.constants.Id.HEADER_RIGHT_ICONS;\n  this.header.appendChild(this.rightIcons);\n};\n\nautocharlie.ui.Header.prototype.get = function() {\n  return this.header;\n};\n\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Input = function(placeholder, id) {\n  this.placeholder = placeholder;\n  this.container = document.createElement('div');\n  this.id = id;\n  this.init();\n  return this;\n};\n\nautocharlie.ui.Input.ClassName = {\n  CONTAINER: 'auto-char-input-container',\n  LABEL: 'auto-char-input-label',\n  INPUT: 'auto-char-input-input',\n  FOCUSED: 'auto-char-input-container-focused'\n};\n\n//First we ask what url and then return it to the user\nautocharlie.ui.Input.prototype.init = function() {\n  this.container.className = autocharlie.ui.Input.ClassName.CONTAINER;\n  this.container.innerHTML = '';\n\n  this.label = document.createElement('label');\n  this.label.className = autocharlie.ui.Input.ClassName.LABEL;\n  this.label.innerHTML = this.placeholder;\n  this.container.appendChild(this.label);\n\n  this.input = document.createElement('input');\n  this.input.className = autocharlie.ui.Input.ClassName.INPUT;\n\n  console.log('id is');\n  console.log(this.id);\n\n\n  if(this.id) {\n    console.log('here');\n    this.input.id = this.id;\n  }\n\n  this.container.appendChild(this.input);\n};\n\n\nautocharlie.ui.Input.prototype.get = function() {\n  return this.container;\n};\n\n\nautocharlie.ui.Input.prototype.getInput = function() {\n  return this.input;\n};\n\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.LightBox = function(container, closeCallback, darkBoxHide) {\n  this.container = container;\n  this.closeCallback = closeCallback;\n  this.darkBoxHide = darkBoxHide || true;\n  return this;\n};\n\nautocharlie.ui.LightBox.prototype.get = function() {\n  return this.lightBox;\n};\n\nautocharlie.ui.LightBox.prototype.show = function() {\n  this.modalFooter.style.display = 'block';\n};\n\nautocharlie.ui.LightBox.prototype.remove = function() {\n  this.container.removeChild(this.darkBox);\n  this.container.removeChild(this.lightBox);\n  if(this.closeCallback) {\n    this.closeCallback();\n  }\n};\n\nautocharlie.ui.LightBox.prototype.init = function(content, headerText) {\n  this.lightBox = document.createElement('div');\n  this.lightBox.className = autocharlie.constants.ClassName.LIGHT_BOX;\n  this.container.appendChild(this.lightBox);\n  console.log(headerText);\n  if(headerText && headerText !== '') {\n    this.header = document.createElement('h3');\n    this.headerText = document.createElement('div');\n    this.headerText.innerHTML = headerText;\n    this.header.appendChild(this.headerText);\n    this.lightBox.appendChild(this.header);\n  }\n\n  if(content) {\n    this.lightBox.appendChild(content);\n  }\n  this.darkBox = document.createElement('div');\n  this.darkBox.className = autocharlie.constants.ClassName.DARK_BOX;\n\n  if(this.darkBoxHide) {\n    this.darkBox.addEventListener('click', function() {\n      this.remove();\n    }.bind(this), false);\n  }\n\n  this.container.appendChild(this.darkBox);\n};\n\n\n//Namespace for TTS\nvar autocharlie = autocharlie || {};\nautocharlie.ui = autocharlie.ui || {};\n\nautocharlie.ui.Tabs = function(insertionDiv, tabDetails) {\n  this.insertionDiv = insertionDiv;\n  this.tabDetails = tabDetails;\n  this.tabsContainer = document.createElement('ul');\n  this.tabsContainer.className = autocharlie.constants.ClassName.TABS_CONTAINER;\n\n  for(var i = 0; i < this.tabDetails.length; i++) {\n    this.createTabButton(i);\n  }\n  this.indicator = document.createElement('div');\n  this.indicator.className = autocharlie.constants.ClassName.TAB_INDICATOR;\n  this.indicator.style.width = 100 / this.tabDetails.length + '%';\n  this.indicator.style.left = '0px';\n  this.tabsContainer.appendChild(this.indicator);\n  this.insertionDiv.appendChild(this.tabsContainer);\n\n  this.tabsDivContainer = document.createElement('div');\n  this.tabsDivContainer.className = autocharlie.constants.ClassName.TABS_DIVS_CONTAINER;\n  this.tabsDivContainer.style.width = '100%';\n\n  this.tabsInnerDivContainer = document.createElement('div');\n  this.tabsInnerDivContainer.className = autocharlie.constants.ClassName.TABS_DIVS_INNER;\n  this.tabsInnerDivContainer.style.width = 100 * tabDetails.length + '%';\n\n  this.tabsDivContainer.appendChild(this.tabsInnerDivContainer);\n\n  for(var j = 0; j < tabDetails.length; j++) {\n    var actualTab = tabDetails[j];\n    var actualTabDiv = document.createElement('div');\n    tabDetails[j].containerDiv = actualTabDiv;\n    actualTabDiv.className = autocharlie.constants.ClassName.TABS_DIV;\n    actualTabDiv.appendChild(actualTab.div);\n    actualTabDiv.style.width = 100 / tabDetails.length + '%';\n    //actualTabDiv.style.left = 100 / tabDetails.length * j + '%';\n    actualTabDiv.style.left = '0%';\n    this.tabsInnerDivContainer.appendChild(actualTabDiv);\n  }\n  this.insertionDiv.appendChild(this.tabsDivContainer);\n};\n\n\nautocharlie.ui.Tabs.prototype.createTabButton = function(i) {\n    var tab = this.tabDetails[i];\n    var tabDiv = document.createElement('li');\n    this.tabDetails.button = tabDiv;\n    tabDiv.className = autocharlie.constants.ClassName.TAB;\n    tabDiv.innerHTML = tab.name;\n    tabDiv.style.width = 100 / this.tabDetails.length + '%';\n    this.tabsContainer.appendChild(tabDiv);\n    tabDiv.addEventListener('click', function() {\n      //this.indicator.style.left = i * (100 / this.tabDetails.length) + '%';\n      var y = i * (100 / this.tabDetails.length);\n      //this.indicator.style.transform = 'translate3d(' + y + '%, 0px, 0px)';\n      this.indicator.style.left = y + '%';\n      //this.tabsInnerDivContainer.style.marginRight = i * 100 + '%';\n      var x = i * (100 / this.tabDetails.length);\n      this.tabsInnerDivContainer.style.transform = 'translate3d(-' + x + '%, 0px, 0px)';\n    }.bind(this));\n  };\n\n\nvar multisig = multisig || {};\nmultisig.constants = multisig.constants || {};\n\nmultisig.constants.Message = {\n  GET_SIGNATURES: 'getSignatures',\n  CREATE_SIGNATURE: 'createSignature',\n  EDIT_SIGNATURE: 'editSignature',\n  DELETE_SIGNATURE: 'deleteSignature',\n  GET_RULES: 'getRules',\n  CREATE_RULE: 'createRule',\n  EDIT_RULE: 'editRule',\n  DELETE_RULE: 'deleteRule',\n  SEND_FEEDBACK: 'sendFeedback'\n};\n\n\nvar multisig = multisig || {};\nmultisig.controllers = multisig.controllers || {};\n\nmultisig.controllers.HomeCtrl = function(parent) {\n  this.container = parent.container;\n  this.parent = parent;\n  this.content = this.container.getContent();\n  this.currentMessage = parent.currentMessage;\n  this.signatureList = null;\n  console.log('Home Ctrl');\n  console.log(parent);\n  console.log(parent.currentMessage);\n};\n\nmultisig.controllers.HomeCtrl.Copy = {\n  NO_SIGNATURES: 'There are no signatures, add one with the plus below',\n  COPY_PASTE_SIGNATURE: 'You can also paste in the box above',\n  ADD_SIGNATURE: 'Add Signature',\n  SIGNATURE_NAME: 'Signature Name',\n  USE: 'Use',\n  EDIT: 'Edit',\n  DELETE: 'Delete',\n  CREATE: 'Create'\n};\n\nmultisig.controllers.HomeCtrl.TOOLBAR_HTML =\n  '<a class=\"wysiw-button\" data-wysihtml5-command=\"bold\" title=\"CTRL+B\"><b>B</b></a> ' +\n    '<a class=\"wysiw-button\" data-wysihtml5-command=\"italic\" title=\"CTRL+I\"><i>I</i></a>' +\n   ' <a class=\"wysiw-button\" data-wysihtml5-command=\"createLink\">link</a>' +\n    '<a class=\"wysiw-button\" data-wysihtml5-command=\"insertImage\">image</a>' +\n    '<a class=\"wysiw-button\" data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h1\">header</a> |' +\n    //'<a class=\"wysiw-button\" data-wysihtml5-command=\"insertUnorderedList\">List</a>' +\n   // '<a class=\"wysiw-button\" data-wysihtml5-command=\"insertOrderedList\">Numbers</a>' +\n'<a class=\"wysiw-button\" data-wysihtml5-command=\"insertSpeech\">speech</a>' +\n    '<a class=\"wysiw-button\" data-wysihtml5-action=\"change_view\">HTML Mode</a>' +\n    '<div data-wysihtml5-dialog=\"createLink\" style=\"display: none;\">' +\n      '<label>' +\n       ' Link:' +\n       ' <input data-wysihtml5-dialog-field=\"href\" value=\"http://\">' +\n      '</label>' +\n      '<a data-wysihtml5-dialog-action=\"save\">OK</a>&nbsp;<a data-wysihtml5-dialog-action=\"cancel\">Cancel</a>' +\n    '</div>' +\n    '<div data-wysihtml5-dialog=\"insertImage\" style=\"display: none;\"> ' +\n      '<label>' +\n        'Image:' +\n        '<input data-wysihtml5-dialog-field=\"src\" value=\"http://\">' +\n      '</label>' +\n      '<label>' +\n        'Align:' +\n        '<select data-wysihtml5-dialog-field=\"className\">' +\n          '<option value=\"\">default</option>' +\n          '<option value=\"wysiwyg-float-left\">left</option>' +\n          '<option value=\"wysiwyg-float-right\">right</option>' +\n        '</select>' +\n      '</label>' +\n      '<a data-wysihtml5-dialog-action=\"save\">OK</a>&nbsp;<a data-wysihtml5-dialog-action=\"cancel\">Cancel</a>' +\n    '</div>';\n\nmultisig.controllers.HomeCtrl.prototype.init = function() {\n\n this.signatureList = document.createElement('div');\n  this.signatureList.className = autocharlie.constants.ClassName.PADDING;\n\n  var rulesDiv = document.createElement('div');\n  rulesDiv.className = autocharlie.constants.ClassName.PADDING;\n  rulesDiv.innerHTML = multisig.Constants.Copy.RULES_PREVIEW;\n\n  var tabsInfo = [{\n    name: multisig.Constants.Copy.SIGNATURES,\n    div: this.signatureList,\n    active: true\n  }, {\n    name: multisig.Constants.Copy.RULES,\n    div: rulesDiv,\n    active: false\n  }];\n\n  var tabs = new autocharlie.ui.Tabs(this.content.get(), tabsInfo);\n  this.getCurrentSignatures(this.signatureList);\n  this.fab = new autocharlie.ui.Fab(this.container);\n  this.fab.init(this.createSignatureUI.bind(this)); //TODO Callback\n};\n\nmultisig.controllers.HomeCtrl.prototype.getCurrentSignatures = function(signaturesDiv) {\n  console.log('Supposed to be getting Sigs');\n  console.log(multisig.constants.Message.GET_SIGNATURES);\n  chrome.runtime.sendMessage({\n    method: multisig.constants.Message.GET_SIGNATURES\n  }, function(response) {\n    console.log('Got Response');\n    console.log(response);\n    if(response && response.length > 0) {\n\n      for(var i = 0; i < response.length; i++) {\n        console.log(response[i]);\n        this.createSignatureBox(response[i], signaturesDiv);\n      }\n    } else {\n      console.log('No Signatures');\n      //No Signatures\n      signaturesDiv.innerHTML = multisig.controllers.HomeCtrl.Copy.NO_SIGNATURES;\n    }\n  }.bind(this));\n};\n\nmultisig.controllers.HomeCtrl.prototype.createSignatureBox = function(signature, signaturesDiv) {\n\n  if(this.content.get().innerHTML ===\n      multisig.controllers.HomeCtrl.Copy.NO_SIGNATURES) {\n    signaturesDiv.innerHTML = '';\n  }\n\n  var signatureBox = document.createElement('div');\n  signatureBox.className = autocharlie.constants.ClassName.CARD;\n\n  var signatureHeader = document.createElement('h3');\n  signatureHeader.innerHTML = signature.name;\n  signatureBox.appendChild(signatureHeader);\n\n  var signatureContainer = document.createElement('div');\n  signatureContainer.innerHTML = signature.html;\n  signatureContainer.className = multisig.Constants.ClassName.SIG_HTML;\n  signatureBox.appendChild(signatureContainer);\n\n  var useButton = document.createElement('button');\n  useButton.className = autocharlie.constants.ClassName.BUTTON;\n  useButton.innerHTML = multisig.controllers.HomeCtrl.Copy.USE;\n  useButton.addEventListener('click', function() {\n    this.useSignature(signature);\n  }.bind(this), false);\n  signatureBox.appendChild(useButton);\n\n  var editButton = document.createElement('button');\n  editButton.className = autocharlie.constants.ClassName.BUTTON;\n  editButton.innerHTML = multisig.controllers.HomeCtrl.Copy.EDIT;\n  editButton.addEventListener('click', function() {\n    this.editSignature(signature);\n  }.bind(this), false);\n  signatureBox.appendChild(editButton);\n\n  var deleteButton = document.createElement('button');\n  deleteButton.className = autocharlie.constants.ClassName.BUTTON;\n  deleteButton.innerHTML = multisig.controllers.HomeCtrl.Copy.DELETE;\n  deleteButton.addEventListener('click', function(e) {\n    this.deleteSignature(signature, e.target);\n  }.bind(this), false);\n  signatureBox.appendChild(deleteButton);\n\n  signaturesDiv.appendChild(signatureBox);\n};\n\nmultisig.controllers.HomeCtrl.prototype.useSignature = function(signature) {\n\n  console.log('Using Signature');\n  console.log(this);\n  console.log(this.parent);\n  console.log(this.parent.currentMessage);\n\n  console.log(this);\n\n  var messageArea = this.parent.currentMessage;\n  var platformDetails = this.parent.platformDetails;\n\n  //Check if there is a signature already\n  //var signatureContainer = messageArea.querySelector(\n //   platformDetails.signatureContainer);\n\nvar signatureContainer = messageArea.querySelector(\n  platformDetails.signatureContainer);\n\n  console.log(signatureContainer);\n  console.log(messageArea);\n  console.log(platformDetails.signatureContainer);\n\n  console.log('html');\n  console.log(signature.html);\n\n  //Already a signature so need to replace it\n  if(signatureContainer) {\n    console.log('Found Signature');\n    signatureContainer.innerHTML = signature.html;\n  } else {\n    var newSignatureContainer = document.createElement('div');\n    newSignatureContainer.innerHTML = signature.html;\n    newSignatureContainer.className = platformDetails.signatureClass;\n    messageArea.appendChild(newSignatureContainer);\n  }\n\n};\n\nmultisig.controllers.HomeCtrl.prototype.editSignature = function(signature) {\n\n};\n\nmultisig.controllers.HomeCtrl.prototype.deleteSignature = function(signature, button) {\n  console.log(multisig.constants.Message.DELETE_SIGNATURE);\n  console.log(signature);\n  chrome.runtime.sendMessage({\n    method: multisig.constants.Message.DELETE_SIGNATURE,\n    signature: signature\n  }, function(response) {\n    console.log('Response');\n    console.log(response);\n    if(response.status === 'success') {\n      //TODO: Remove from Ui\n      button.parentNode.parentNode.removeChild(button.parentNode);\n    }\n  }.bind(this));\n};\n\nmultisig.controllers.HomeCtrl.prototype.createSignatureUI = function() {\n  this.lightbox = new autocharlie.ui.LightBox(this.container.get());\n\n  var addSigBox = document.createElement('div');\n  addSigBox.style.padding = '10px';\n\n  var nameInput = new autocharlie.ui.Input(\n    multisig.controllers.HomeCtrl.Copy.SIGNATURE_NAME);\n\n  addSigBox.appendChild(nameInput.get());\n\n  console.log('1');\n  var toolBar = document.createElement('div');\n  toolBar.id = multisig.constants.Ids.TOOLBAR;\n  toolBar.style.display = 'none';\n  console.log('2');\n  toolBar.innerHTML = multisig.controllers.HomeCtrl.TOOLBAR_HTML;\n  console.log('3');\n  addSigBox.appendChild(toolBar);\n\n  console.log('5');\n  var htmlInput = document.createElement('textarea');\n  htmlInput.id = multisig.constants.Ids.TEXTAREA;\n  addSigBox.appendChild(htmlInput);\n\n  var note = document.createElement('p');\n  note.innerHTML = multisig.controllers.HomeCtrl.Copy.COPY_PASTE_SIGNATURE;\n  addSigBox.appendChild(note);\n\n  var createButton = document.createElement('button');\n  createButton.className = autocharlie.constants.ClassName.BUTTON;\n  createButton.innerHTML = multisig.controllers.HomeCtrl.Copy.CREATE;\n  addSigBox.appendChild(createButton);\n  createButton.addEventListener('click', function() {\n    var createdSignature = {\n      name: nameInput.getInput().value,\n      html: htmlInput.value\n    };\n    chrome.runtime.sendMessage({\n      method: multisig.constants.Message.CREATE_SIGNATURE,\n      signature: createdSignature\n    }, function(response) {\n      if(response.status === 'success') {\n        console.log('Worked!');\n        this.createSignatureBox(createdSignature, this.signatureList);\n        this.lightbox.remove();\n      } else {\n        console.log('Error');\n      }\n    }.bind(this));\n  }.bind(this), false);\n\n  this.lightbox.init(\n    addSigBox,\n    multisig.controllers.HomeCtrl.Copy.ADD_SIGNATURE);\n\n  console.log(multisig.constants.Ids.TEXTAREA);\n  console.log(document.getElementById(multisig.constants.Ids.TEXTAREA));\n\n  console.log(multisig.constants.Ids.TOOLBAR);\n  console.log(document.getElementById(multisig.constants.Ids.TOOLBAR));\n\n  var editor = new wysihtml5.Editor(multisig.constants.Ids.TEXTAREA, {\n    toolbar: multisig.constants.Ids.TOOLBAR,\n    stylesheets:  'css/stylesheet.css',\n    parserRules:  wysihtml5ParserRules\n  });\n\n};\n\n\nmultisig.controllers.HomeCtrl.prototype.createRuleUI = function() {\n\n};\n\nmultisig.controllers.HomeCtrl.prototype.editRule = function() {\n\n};\n\nmultisig.controllers.HomeCtrl.prototype.deleteRule = function() {\n\n};\n\n\n\n\n\n\nvar multisig = multisig || {};\nmultisig.Constants = multisig.Constants || {};\n\n\nmultisig.Constants.CLASS_NAME_PREFIX = 'multi-sig-ext-';\n\nmultisig.Constants.ClassName = {\n  EXAMPLE: 'example',\n  SIG_HTML: multisig.Constants.CLASS_NAME_PREFIX + 'sig-html'\n};\n\n\nvar multisig = multisig || {};\nmultisig.Constants = multisig.Constants || {};\n\nmultisig.Constants.Copy = {\n  SIGNATURES: 'Signatures',\n  RULES: 'Rules',\n  RULES_PREVIEW: 'Here you will be able to set rules as to which signature to use when.' +\n    'This is currently in development, if you are interested in this feature please message ' +\n    'us using the feedback button in the top right with what you would like rules to do.'\n};\n\n\nvar multisig = multisig || {};\nmultisig.Constants = multisig.Constants || {};\n\nmultisig.Constants.ID_PREFIX = 'multi-sig-ext-';\n\nmultisig.constants.Ids = {\n  TOOLBAR: multisig.Constants.CLASS_NAME_PREFIX + 'toobar',\n  TEXTAREA: multisig.Constants.CLASS_NAME_PREFIX + 'textarea'\n};\n\n\nvar multisig = multisig || {};\nmultisig.Constants = multisig.Constants || {};\n\n\nmultisig.Constants.IMAGE_DIRECTORY = 'images/';\n\nmultisig.Constants.Images = {\n  HEADER_LOGO: multisig.Constants.IMAGE_DIRECTORY + 'Logo.png'\n};\n\n\nvar multisig = multisig || {};\n\nconsole.log('1');\n\nmultisig.Content = function() {\n  this.showing = false;\n};\n\nmultisig.Content.Copy = {\n  SUBMIT_FEEDBACK: 'Submit Feedback'\n};\n\nmultisig.Content.Modes = {\n  GMAIL: 'Gmail'\n};\n\nmultisig.Content.URL_CHECKS = [\n  {\n    platform: multisig.Content.Modes.GMAIL,\n    regex: 'https://mail.google.com/*'\n  }\n];\n\nmultisig.Content.InsertionType = {\n  BEFORE: 'Before',\n  AFTER: 'After'\n};\n\nmultisig.Content.UniqueButtonAttributes = {\n  ATTRIBUTE: 'MultiSig',\n  VALUE: 'Button'\n};\n\n/**\n * Platform Details\n */\nmultisig.Content.PLATFORM_DETAILS = [\n  {\n    platform: multisig.Content.Modes.GMAIL,\n    outerContainer: {\n      attribute: 'name',\n      value: 'composeid',\n      parents: 2\n    },\n    messageBodySelector: '[aria-label=\"Message Body\"]',\n    messageBodyElementNumber: 1,\n    similarButtonSelector: '[data-tooltip=\"Formatting options\"]',\n    useParentLevel: true,\n    elementType: 'td',\n    insertionType: multisig.Content.InsertionType.AFTER,\n    includeClasses: true,\n    containerClass: 'multi-sig-ext-gmail-button',\n    containerInnerHtml: '<img src=' + chrome.extension.getURL('images/icon-16.png') + '></div>',\n    signatureContainer: '.gmail_signature',\n    signatureClass: 'gmail_signature',\n    toInputs: {\n      attribute: 'name',\n      value: 'to',\n      type: 'input',\n      email: 'value'\n    },\n    ccInputs: {\n      attribute: 'name',\n      value: 'cc',\n      type: 'input',\n      email: 'value'\n    },\n    bccInputs: {\n      attribute: 'name',\n      value: 'bcc',\n      type: 'input',\n      email: 'value'\n    }\n  }\n];\n\nmultisig.Content.ATTEMPTS = 5;\nmultisig.Content.WAIT_TIME = 500;\n\nmultisig.Content.prototype.init = function() {\n  if(this.shouldLoad()) {\n    this.decideMode();\n    this.scrappedBody = document.getElementsByTagName('body')[0];\n    this.addComposeListener();\n    this.container = new autocharlie.ui.Container(this.scrappedBody);\n    this.ctrl = new multisig.controllers.HomeCtrl(this);\n    this.ctrl.init();\n    this.container.header.addFeedbackButton();\n    this.container.header.addCloseButton(this.hide.bind(this));\n\n    //TODO: Remove\n    //this.show();\n  }\n};\n\nmultisig.Content.prototype.toggle = function(e) {\n  if(e) {\n    e.stopPropagation();\n  }\n  if(this.showing) {\n    this.hide();\n  } else {\n    this.show();\n  }\n};\n\nmultisig.Content.prototype.show = function() {\n  this.showing = true;\n  this.container.show();\n};\n\nmultisig.Content.prototype.hide = function() {\n  this.showing = false;\n  this.container.hide();\n};\n\n\nmultisig.Content.prototype.decideMode = function() {\n  this.platform = multisig.Content.Modes.GMAIL;\n  for(var i = 0; i < multisig.Content.PLATFORM_DETAILS.length; i++) {\n    var platformDetails = multisig.Content.PLATFORM_DETAILS[i];\n    if(platformDetails.platform === this.platform) {\n      this.platformDetails = platformDetails;\n    }\n  }\n};\n\n/**\n * Detects if it should load or not\n */\nmultisig.Content.prototype.shouldLoad = function() {\n  return true;\n};\n\nmultisig.Content.prototype.checkLoad = function() {\n  document.addEventListener('DOMContentLoaded', this.init.bind(this), false);\n};\n\nmultisig.Content.prototype.addComposeListener = function() {\n  document.addEventListener('DOMNodeInserted', this.subtreeModifed.bind(this), false);\n}; //Used to be subtree\n\nmultisig.Content.prototype.subtreeModifed = function(e) {\n  var target = e.target;\n  this.checkComposeAdded(target);\n\n  //Check if there are rules\n  this.checkEmailChanges(target);\n};\n\nmultisig.Content.prototype.checkComposeAdded = function(target) {\n  var outerContainer = this.platformDetails.outerContainer;\n  if(target && target.getAttribute) {\n    var attribute = target.getAttribute(outerContainer.attribute);\n\n    if(attribute === outerContainer.value) { //We are in the correct area\n      target = this.getParents(\n          target,\n          outerContainer.parents);\n      this.getMessageBody(target);\n    } else {\n      //Check if tha attribute is available\n      var potentianalTarget =\n        target.querySelector('[' + outerContainer.attribute + '=\"' +\n        outerContainer.value + '\"]');\n      if(potentianalTarget) {\n        potentianalTarget = this.getParents(\n          potentianalTarget,\n          outerContainer.parents);\n        this.getMessageBody(potentianalTarget);\n      }\n    }\n  }\n};\n\nmultisig.Content.prototype.checkEmailChanges = function(target) {\n\n  if(target && target.querySelector) {\n    var emailCheck = target.querySelector(\n      this.platformDetails.toInputs.type + '[' +\n      this.platformDetails.toInputs.attribute + '=\"' +\n      this.platformDetails.toInputs.value + '\"]'\n      );\n\n    if(emailCheck) {\n      //\n      var foundEmail = emailCheck.getAttribute(\n        this.platformDetails.toInputs.email);\n\n      console.log('Found Email');\n      console.log(foundEmail);\n    }\n  }\n};\n\n\nmultisig.Content.prototype.getParents = function(elem, number) {\n  var currentElem = elem;\n  if(number > 0) {\n    for(var i = 0; i < number; i++) {\n      currentElem = currentElem.parentNode;\n    }\n  }\n  return currentElem;\n};\n\nmultisig.Content.prototype.addInputListener = function() {\n\n};\n\n/**\n * Tries to locate the Message body inside of the text.\n */\nmultisig.Content.prototype.getMessageBody = function(container, tries) {\n  var triesToGo = tries || multisig.Content.ATTEMPTS;\n  var messageBody = container.querySelectorAll(\n    this.platformDetails.messageBodySelector)[\n      this.platformDetails.messageBodyElementNumber];\n  if(messageBody && messageBody !== null && messageBody !== '') {\n    //Found the body! Now lets add in our button\n    this.addToButtons(container, messageBody);\n  } else {\n    window.setTimeout(function() {\n      triesToGo--;\n      if(triesToGo > 0) {\n        this.getMessageBody(container, triesToGo);\n      }\n    }.bind(this), multisig.Content.WAIT_TIME);\n  }\n};\n\n/**\n * Checks that the buttons bar where we are adding in is available\n */\nmultisig.Content.prototype.addToButtons = function(container, messageBody, tries) {\n  var triesToGo = tries || multisig.Content.ATTEMPTS;\n\n  var insertButton = container.querySelector(\n    this.platformDetails.similarButtonSelector);\n\n  var insertButtons = container.querySelectorAll(\n    this.platformDetails.similarButtonSelector);\n\n  if(this.platformDetails.useParentLevel && insertButton &&\n      insertButton !== null && insertButton !== '') {\n    insertButton = insertButton.parentNode;\n  }\n\n\n  if(insertButton && insertButton !== null && insertButton !== '' &&\n      insertButton.parentNode.getElementsByClassName(\n        this.platformDetails.containerClass).length < 1) {\n    var showButton = document.createElement(\n      this.platformDetails.elementType);\n    showButton.innerHTML = this.platformDetails.containerInnerHtml;\n    showButton.addEventListener('click', function() {\n      this.toggle();\n      this.currentMessage = messageBody;\n    }.bind(this), false);\n    showButton.className = this.platformDetails.containerClass;\n    if(this.platformDetails.includeClasses) {\n      showButton.className += ' ' + insertButton.className;\n    }\n\n    if(this.platformDetails.insertionType === multisig.Content.InsertionType.AFTER) {\n      insertButton.parentNode.insertBefore(showButton, insertButton.nextSibling);\n    } else {\n      insertButton.insertBefore(showButton);\n    }\n  } else {\n    triesToGo--;\n    if(triesToGo > 0) {\n      window.setTimeout(function() {\n        this.addToButtons(container, messageBody, triesToGo);\n      }.bind(this), multisig.Content.WAIT_TIME);\n    }\n  }\n};\n\nvar multisigContent = new multisig.Content();\nmultisigContent.init();"],"sourceRoot":"/source/"}